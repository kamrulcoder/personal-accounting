## ЁЯУТ Personal Accounting Project тАУ Database Models Documentation
## 1. User Model

ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржмрзЗрж╕рж┐ржХ ржЗржиржлрж░ржорзЗрж╢ржи, ржЕржерзЗржиржЯрж┐ржХрзЗрж╢ржи ржУ ржнрзЗрж░рж┐ржлрж┐ржХрзЗрж╢ржи рж╕ржорзНржкрж░рзНржХрж┐ржд рж╕ржм ржбрж╛ржЯрж╛ ржПржЦрж╛ржирзЗ рж░рж╛ржЦрж╛ рж╣рзЯред

- Fields:
  - name тЖТ ржЗржЙржЬрж╛рж░рзЗрж░ ржирж╛ржо
  - email тЖТ ржЗржЙржирж┐ржХ, рж▓ржЧржЗржирзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ рж╣ржмрзЗ
  - passwordHash тЖТ рж╣рзНржпрж╛рж╢ржб ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб
  - isActive тЖТ ржЗржЙржЬрж╛рж░ рж╕ржХрзНрж░рж┐рзЯ ржХрж┐ржирж╛
  - isVerified тЖТ ржЗржорзЗржЗрж▓ ржнрзЗрж░рж┐ржлрж╛ржЗржб ржХрж┐ржирж╛
  - role тЖТ user | admin
  - avatarUrl тЖТ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржЗржорзЗржЬ
  - resetPasswordToken, emailVerificationTokenржЗрждрзНржпрж╛ржжрж┐ тЖТ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржЯрзЛржХрзЗржи

- Relations:
  - ржПржХржЯрж┐ UserтАУржПрж░ ржЕржирзЗржХржЧрзБрж▓рзЛ AccountType, Transaction, Note ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред
  - userId ржЕржирзНржпрж╛ржирзНржп ржоржбрзЗрж▓рзЗ foreign key рж╣рж┐рж╕рж╛ржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗред

## 2. AccountType Model

ржкрзНрж░рждрж┐ржЯрж┐ ржЗржЙржЬрж╛рж░рзЗрж░ ржЬржирзНржп ржмрзНржпрж╛ржВржХ ржПржХрж╛ржЙржирзНржЯ, ржУрзЯрж╛рж▓рзЗржЯ, ржХрзНржпрж╛рж╢ ржЗрждрзНржпрж╛ржжрж┐ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржПржЗ ржоржбрзЗрж▓ред

- Fields:
  - userId тЖТ ржХрзЛржи ржЗржЙржЬрж╛рж░рзЗрж░ ржПржХрж╛ржЙржирзНржЯ рж╕рзЗржЯрж╛ ржмрзЛржЭрж╛рждрзЗ
  - name, description тЖТ ржПржХрж╛ржЙржирзНржЯрзЗрж░ ржирж╛ржо ржУ ржмрж░рзНржгржирж╛
  - initialBalance, currentBalance тЖТ ржкрзНрж░рж╛ржержорж┐ржХ ржУ ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛рж▓рзЗржирзНрж╕

- Relations:
  - ржПржХржЯрж┐ UserтАУржПрж░ ржПржХрж╛ржзрж┐ржХ AccountType ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред
  - ржПржХржЯрж┐ AccountType ржЕржирзЗржХржЧрзБрж▓рзЛ Transaction ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗред

## 3. Transactor Model

ржЯрж╛ржХрж╛ рж▓рзЗржиржжрзЗржи ржпрж╛ржжрзЗрж░ рж╕рж╛ржерзЗ рж╣рзЯ (ржпрзЗржоржи: Vendor, Customer, Friend ржЗрждрзНржпрж╛ржжрж┐), рждрж╛ржжрзЗрж░ ржЗржиржлрж░ржорзЗрж╢ржиред

- Fields:
  - userId тЖТ ржХрзЛржи ржЗржЙржЬрж╛рж░рзЗрж░ ржЯрзНрж░рж╛ржирзНрж╕рзНржпрж╛ржХрзНржЯрж░
  - name, phone, email, address, notes

- Relations:
  - UserтАУржПрж░ ржПржХрж╛ржзрж┐ржХ Transactor ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред
  - ржкрзНрж░рждрж┐ржЯрж┐ TransactorтАУржПрж░ рж╕рж╛ржерзЗ ржПржХрж╛ржзрж┐ржХ Transaction ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред
  - Balance ржоржбрзЗрж▓ User ржУ Transactor ржПрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ рж░рж╛ржЦрзЗред

## 4. Transaction Model

ржЖрзЯ-ржмрзНржпрзЯ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рж╛рж░ ржЬржирзНржп ржорзВрж▓ ржоржбрзЗрж▓ред

- Fields:
  - userId тЖТ ржХрзЛржи ржЗржЙржЬрж╛рж░
  - accountId тЖТ ржХрзЛржи ржПржХрж╛ржЙржирзНржЯрзЗ ржЯрж╛ржХрж╛ ржЬржорж╛/ржЦрж░ржЪ рж╣рж▓рзЛ
  - transactorId тЖТ ржХрж╛рж░ рж╕рж╛ржерзЗ ржЯрзНрж░рж╛ржирзНрж╕рзЗржХрж╢ржи рж╣рж▓рзЛ
  - amount, type (income/expense/transfer), category, description
  - date, isSettled

- Relations:
  - ржкрзНрж░рждрж┐ржЯрж┐ Transaction ржПржХржЯрж┐ User, ржПржХржЯрж┐ AccountType, ржПржмржВ ржПржХржЯрж┐ Transactor ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХрж┐рждред
  - relatedTransaction тЖТ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржжрзБржЯрж┐ ржЯрзНрж░рж╛ржирзНрж╕рзЗржХрж╢ржи ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд ржерж╛ржХржмрзЗред

## 5. Balance Model

ржХрзЛржи ржЗржЙржЬрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржХрзЛржи ржЯрзНрж░рж╛ржирзНрж╕рзЗржХрзНржЯрж░рзЗрж░ ржХржд ржЯрж╛ржХрж╛ ржмрж╛ржХрзА ржЖржЫрзЗ ржмрж╛ ржкрж╛ржмрзЗ рж╕рзЗржЯрж╛ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГрждред

- Fields:
  - userId
  - transactorId
  - balance

- Relations:
  - User + Transactor ржПрж░ ржЬржирзНржп ржЗржЙржирж┐ржХ ржХржорзНржмрж┐ржирзЗрж╢ржиред
  - ржкрзНрж░рждрж┐ржЯрж┐ Transaction ржпрзЛржЧ ржмрж╛ ржХржорж╛рж▓рзЗ ржПржЗ ржоржбрзЗрж▓рзЗ ржкрж░рж┐ржмрж░рзНрждржи ржЖрж╕ржмрзЗред

## 6. Note Model

ржЗржЙржЬрж╛рж░ рждрж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржирзЛржЯ, рж░рж┐ржорж╛ржЗржирзНржбрж╛рж░ рж░рж╛ржЦрждрзЗ ржкрж╛рж░ржмрзЗред

- Fields:
  - userId тЖТ ржХрзЛржи ржЗржЙржЬрж╛рж░рзЗрж░ ржирзЛржЯ
  - title, description, reminderDate, isCompleted

- Relations:
  - UserтАУржПрж░ ржПржХрж╛ржзрж┐ржХ Note ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред

### ЁЯФЧ Entity Relationship Flow (ERD Style)
```mermaid 
erDiagram
erDiagram
    USER ||--o{ ACCOUNTTYPE : has
    USER ||--o{ TRANSACTOR : has
    USER ||--o{ TRANSACTION : makes
    USER ||--o{ BALANCE : maintains
    USER ||--o{ NOTE : writes

    ACCOUNTTYPE ||--o{ TRANSACTION : used_in
    TRANSACTOR ||--o{ TRANSACTION : involved_in
    TRANSACTOR ||--o{ BALANCE : tracked_in
    TRANSACTION ||--o{ TRANSACTION : related_to

```
ЁЯУМ Workflow Example

1. User Register/Login тЖТ ржирждрзБржи ржЗржЙржЬрж╛рж░ рждрзИрж░рж┐ рж╣рзЯред
1. AccountType Create тЖТ рж╕рзЗ ржирж┐ржЬрзЗрж░ ржмрзНржпрж╛ржВржХ ржмрж╛ ржУрзЯрж╛рж▓рзЗржЯ ржПржХрж╛ржЙржирзНржЯ ржЕрзНржпрж╛ржб ржХрж░рзЗред
1. Transactor Add тЖТ рж╕рзЗ рждрж╛рж░ Vendor / Customer / Friend ржЕрзНржпрж╛ржб ржХрж░рзЗред
1. Transaction Add тЖТ ржпржЦржи ржЖрзЯ/ржмрзНржпрзЯ рж╣ржмрзЗ рждржЦржи Transaction рждрзИрж░рж┐ рж╣ржмрзЗред
1. Transaction ржП userId, accountId, transactorId ржерж╛ржХржмрзЗред
1. ржпржжрж┐ ржЦрж░ржЪ рж╣рзЯ тЖТ Balance ржЖржкржбрзЗржЯ рж╣ржмрзЗред
1. Balance Update тЖТ ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзНрж░рж╛ржирзНрж╕рзЗржХрж╢ржирзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ Balance ржоржбрзЗрж▓ ржПржбржЬрж╛рж╕рзНржЯ рж╣ржмрзЗред
1. Note Add тЖТ ржЗржЙржЬрж╛рж░ рждрж╛рж░ ржХрж╛ржЬрзЗрж░ ржирзЛржЯ ржмрж╛ Reminder ржпрзЛржЧ ржХрж░ржмрзЗред